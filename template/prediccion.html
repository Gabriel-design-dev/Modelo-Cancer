
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/menu.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/caja_mas_foter.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/portada.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/transicion.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/portafolio.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estudios.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cabecera.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/prediccion.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css"rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/index.js"></script>
    <script src="https://unpkg.com/scrollreveal@4/dist/scrollreveal.min.js"></script>
    <title>Gabriel HDS</title>
      <!---TRANSICIONES-->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/trans.css') }}">
      <link rel="stylesheet" href="https://unpkg.com/transition-style">
      <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.circles.min.css">
      <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.squares.min.css">
     <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.polygons.min.css">
     <script>
      $('body').setAttribute('transition-style','in:circle:bottom-right')
      javascript:(function(){var a=document.createElement("link");a.rel="stylesheet";a.href="https://unpkg.com/transition-style";document.head.append(a);})();
    </script>
      <!---------FIN TRANSICION-->
</head>
<body style="background-color: #f2f2f2;">
 <!-------INICIO DE SESION EXITOSO---------->
 {% if mensajeinicio %}
 <script>
  Swal.fire({
    position: 'top-end',
    icon: 'success',
    title: '{{mensajeinicio}}',
    showConfirmButton: false,
    timer: 2000
  })
 </script>
{% endif %}
 <!--------------------------------------->
    <nav>
        <div class="menu-icon">
           <span class="fas fa-bars"></span>
        </div>
        <div class="logo">
            <a href="/">
           <img src="{{ url_for('static', filename='IMG/loguito.png') }}" width="140px" height="70px">
         
        </a>
        </div>
        <div class="nav-items">
           <li><a id="playButton" href="/">Inicio</a></li>
         <li><a id="showFormLink" href="/prediccion">Prediccion</a></li>
         <li><a id="showFormLink" href="/resultado">Resultados</a></li>
         <li><a id="showFormLink" href="/">Salir</a></li>
           <!--<li><a id="playButton" href="crud.html">Serie Crud PHP</a></li>-->
          <!-- <li><a id="playButton" href="crud.html">Serie Crud Python</a></li>-->
        
        </div>
        <div class="search-icon">
          
        </div>
        <div class="cancel-icon">
           <span class="fas fa-times"></span>
        </div>
     </nav><br><br><br>
    <div class="caja0">
        <div class="caja1">
            <form class="formulario" action="/cancer_predict" id="formFileLg" method="post" enctype="multipart/form-data" onsubmit="return validarFormulario()"><br>
                <div  class="text-center">  
                    <h2>Diagnostico Medico</h2>
              </div>
                
                <div class="form-group">
                    <label class="co" for="exampleInputEmail1">1. Nombre Completo </label>
                    <input class="form-control f" id="nombre" type="text" placeholder="{{ session['nombre'] }}" value="{{ session['nombre'] }}" name="txtNombre" readonly>
                    <small id="emailHelp" class="form-text text-muted">El Nombre se genera Automaticamente</small>
                  </div><br>
                  <!------------------>
                  <div class="form-group">
                    <label class="co" for="exampleInputEmail1">2. ¿Que Sintomas Tienes? </label>
                    <div class="input-group mb-3">
                      <select class="form-control f"name="txtPreg1" required>
                        <option selected  >Selecciona</option>
                        <option class="co" value="Cambio en la voz">Cambio en su Voz</option>
                        <option class="co" value="Dificultad para Tragar">Dificultad para Tragar</option>   
                        <option class="co" value="Toser con Sangre">Toser con Sangre</option>  
                        <option class="co" value="Dolor de Mandibula">Dolor de Mandibula</option>  
                      </select>
                    </div>
                </div><br>
                <!------------------------>
                <!------------------>
                <div class="form-group">
                  <label class="co" for="exampleInputEmail1">3. ¿Tienes alguna llaga en los labios o la boca que no cicatriza?</label>
                  <div class="input-group mb-3">
                          <select class="form-control f" name="txtPreg2" required>
                            <option selected>Selecciona</option>
                            <option class="co" value="SI">SI</option>
                            <option class="co" value="NO">NO</option>
                            
                          </select>
                        </div>
              </div><br>
              <!------------------------>
              <!------------------>
            <div class="form-group">
              <label class="co" for="exampleInputEmail1">4. ¿Tienes alguna Dificultad o Dolor al Tragar?</label>
              <div class="input-group mb-3">
                <select class="form-control f" name="txtPreg3" required>
                  <option selected>Selecciona</option>
                  <option class="co" value="SI">SI</option>
                  <option class="co" value="NO">NO</option>
                </select>
              </div>
          </div><br>
            <!------------------------>
            <div class="form-group">
              <label class="co" for="exampleInputEmail1">5. ¿Explica como crees que pudiste contagiarte y tener cancer bucal?</label>
              <textarea class="form-control f" id="nombre"name="txtPreg4" rows="4" cols="50" required></textarea>
              <small id="emailHelp" class="form-text text-muted">Explica como crees que pudiste ser contagiad@ de manera breve.</small>
            </div><br>
            <label for="formFileLg" class="form-label">Sube la foto por favor de tu boca con el area afectada</label>
                <input class="form-control form-control-lg" type="file" name="file" id="formFileLg" accept="image/*" required>
                <small id="emailHelp" class="form-text text-muted">La imagen debe ser clara y sin sombras para posterior analisis.</small>
                <div class="text-center d-grid gap-2 col-6 mx-auto"><br>
                  <button type="submit" class=" btn btn-success ">Analizar</button>
            </div>
              <br> 
            </form>
          </div>
    </div>

    {% if pred %}
      <script>
        let timerInterval
  Swal.fire({
    title: 'Analizando Foto...',
    html: 'Espere un Momento Analizando la Foto <b></b> .',
    timer: 6000,
    timerProgressBar: true,
    didOpen: () => {
      Swal.showLoading()
      const b = Swal.getHtmlContainer().querySelector('b')
      timerInterval = setInterval(() => {
        b.textContent = Swal.getTimerLeft()
      }, 200)
    },
    willClose: () => {
      clearInterval(timerInterval)
    }
  }).then((pred) => {
    Swal.fire(
    'Analisis Completo',
    '{{ pred }} ',
    'success'
  )
  })
      </script>
      </b>
 {% endif %}
 <!----PASADISO-->
 <script>
    function validarFormulario() {
        var nombreInput = document.getElementById("nombre");
        var correoInput = document.getElementById("correo");
        var imagenInput = document.getElementById("formFileLg");
    
        if (nombreInput.value.trim() === "" || correoInput.value.trim() === "") {
            Swal.fire('Ingresa datos en los campos vacios')
            return false; // No enviar el formulario si algún campo de texto está vacío
        }
    
        if (imagenInput.value === "") {
            Swal.fire(
                'No seleccionaste una foto',
                'Por favor selecciona una foto',
                'question'
                );
            return false; // No enviar el formulario si el campo de imagen está vacío
        }
    
        return true; // Enviar el formulario si todos los campos están llenos
    }
    </script>
    <script>
      const menuBtn = document.querySelector(".menu-icon span");
      const searchBtn = document.querySelector(".search-icon");
      const cancelBtn = document.querySelector(".cancel-icon");
      const items = document.querySelector(".nav-items");
      const form = document.querySelector("form");
      menuBtn.onclick = ()=>{
        items.classList.add("active");
        menuBtn.classList.add("hide");
        searchBtn.classList.add("hide");
        cancelBtn.classList.add("show");
      }
      cancelBtn.onclick = ()=>{
        items.classList.remove("active");
        menuBtn.classList.remove("hide");
        searchBtn.classList.remove("hide");
        cancelBtn.classList.remove("show");
        form.classList.remove("active");
        cancelBtn.style.color = "#ff3d00";
      }
      searchBtn.onclick = ()=>{
        form.classList.add("active");
        searchBtn.classList.add("hide");
        cancelBtn.classList.add("show");
      }
   </script>
    
    
</body>
</html>
