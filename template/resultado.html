
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/menu.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/caja_mas_foter.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/portada.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/transicion.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/portafolio.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estudios.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/cabecera.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/prediccion.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css"rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="js/index.js"></script>
    <script src="https://unpkg.com/scrollreveal@4/dist/scrollreveal.min.js"></script>
    <title>Gabriel HDS</title>
      <!---TRANSICIONES-->
      <link rel="stylesheet" href="{{ url_for('static', filename='css/trans.css') }}">
      <link rel="stylesheet" href="https://unpkg.com/transition-style">
      <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.circles.min.css">
      <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.squares.min.css">
     <link rel="stylesheet" href="https://unpkg.com/transition-style/transition.polygons.min.css">
     <script>
      $('body').setAttribute('transition-style','in:circle:bottom-right')
      javascript:(function(){var a=document.createElement("link");a.rel="stylesheet";a.href="https://unpkg.com/transition-style";document.head.append(a);})();
    </script>
      <!---------FIN TRANSICION-->
</head>
<body style="background-color: #f2f2f2;">
 
    <nav>
        <div class="menu-icon">
           <span class="fas fa-bars"></span>
        </div>
        <div class="logo">
            <a href="/">
           <img src="{{ url_for('static', filename='IMG/loguito.png') }}" width="140px" height="70px">
        </a>
        </div>
        <div class="nav-items">
           <li><a id="playButton" href="/">Inicio</a></li>
         <li><a id="showFormLink" href="/prediccion">Prediccion</a></li>
         <li><a id="showFormLink" href="/resultado">Resultados</a></li>
         <li><a id="showFormLink" href="/">Salir</a></li>
           <!--<li><a id="playButton" href="crud.html">Serie Crud PHP</a></li>-->
          <!-- <li><a id="playButton" href="crud.html">Serie Crud Python</a></li>-->
        
        </div>
        <div class="search-icon">
          
        </div>
        <div class="cancel-icon">
           <span class="fas fa-times"></span>
        </div>
     </nav><br><br><br>
    <div class="caja0">
        <div class="caja1">
            <form class="formulario" action="/cancer_predict" method="post" enctype="multipart/form-data" onsubmit="return validarFormulario()"><br>
                <div  class="text-center">  
                    <h2 class="titulo-diagnostico">Resultado del Diagnostico</h2>
              </div>
                
                <div class="form-group">
                    <label class="co" for="exampleInputEmail1">1. Nombre Completo del Paciente</label>
                    <input class="form-control f" id="nombre" type="text" placeholder="{{ session['nombre'] }}" value="{{ session['nombre'] }}" name="txtNombre" readonly>
                    <small id="emailHelp" class="form-text text-muted">El Nombre se genera Automaticamente</small>
                  </div><br>
                  <!------------------>
                  <!----TABLA-->
                  <p class="text-center"> <b> Historial del Paciente</b></p>
                  {% if resultados %}
                  <div class="table-responsive">
                  <table class="table table-striped">
                      <thead>
                          <tr>
                              <th scope="col">Nº</th>
                              <th scope="col">Edad</th>
                              <th scope="col">Genero</th>
                              <th scope="col">Sintoma</th>
                              <th scope="col">Prediccion</th>
                              <th scope="col">Fecha de Consulta</th>
                          </tr>
                      </thead>
                      <tbody>
                          {% for mostrar in resultados%}
                         
                         
                          <tr>
                              <td scope="row">1</td>
                              <td scope="row">{{ mostrar.edad}} Años</td>
                              <td>{{ mostrar.genero}}</td>
                              <td>{{ mostrar.preg1}}</td>
                              <td>{{ mostrar.prediccion }}</td>
                              <td>{{ mostrar.fecha_registro }}</td>
                          </tr>
                          {% endfor %}
                      </tbody>
                  </table>
              {% else %}
                  <p>No hay Datos</p>
              {% endif %}
            </div>
                  <table class="table table-sm table-striped">
                    <thead>
                    <tr>
                        <th class="text-center"> Posibles Causas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td  scope="row">Los cánceres de boca ocurren cuando las células de los labios o la boca desarrollan cambios (mutaciones) en su ADN. El ADN de una célula contiene instrucciones que le indican a la célula qué funciones debe realizar. Los cambios de las mutaciones les indican a las células que continúen creciendo y dividiéndose cuando las células sanas morirían. La acumulación anormal de células cancerosas en la boca puede formar un tumor. Con el tiempo, las células cancerosas se pueden diseminar
                             dentro de la boca y hacia otras zonas de la cabeza y el cuello, o bien a otras zonas del cuerpo.</td>
                        
                            </tr>
                </tbody>
                  </table>
                  <table class="table table-sm table-striped">
                    <thead>
                    <tr>
                        <!---CABCERA-->
                        <th class="text-center">Prevencion</th>
                        <th class="text-center">Riesgos</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="table-success text-center">
                        <td>No consumir Tabaco</td>
                        <td class="table-danger">Boca Seca</td>
                    </tr>
                    <tr class="table-success text-center">
                        <td>No Beber Alcohol</td>
                        <td class="table-danger text-center">Perdida de Dientes</td>
                    </tr>
                    <tr class="table-success text-center">
                        <td>No exponerse Mucho al Sol</td>
                        <td class="table-danger text-center">Cancer de Papiloma</td>
                    </tr>
                    <tr class="table-success text-center">
                        <td>Recurrir a un Profesional</td>
                        <td class="table-danger text-center">Perdida del Gusto</td>
                    </tr>
                    
                      
                </tbody>
                  </table>
                  <!----imagen estadistico-->
                 
                  <h2 class="text-center">Analisis Completo</h2>
                  {% if ultimo_prediccion %}
                  <div class="alert {% if ultimo_prediccion == 'Presenta Sintomas de Cancer' %}alert-danger{% elif ultimo_prediccion == 'No Presenta Sintomas de Cancer' %}alert-success{% else %}alert-primary{% endif %} text-center" role="alert">
                    {% if ultimo_prediccion == 'Presenta Sintomas de Cancer' %}
                    <!------->
                    <img src="{{ url_for('static', filename='IMG/estadistica1.jpg') }}"class="img-fluid rounded-start" width="350px" height="200px">
                    {% elif ultimo_prediccion == 'No Presenta Sintomas de Cancer' %}
                    <img src="{{ url_for('static', filename='IMG/estadistica2.jpg') }}" class="img-fluid rounded-start" width="350px" height="200px">
                    {% else %}
                    El paciente {{ultimo_prediccion}}
                 {% endif %}
                 {% endif %}
                  </div><br>
                 
                  <!------mensajeeeeeeeee-->
                  {% if ultimo_prediccion %}
                  <div class="alert {% if ultimo_prediccion == 'Presenta Sintomas de Cancer' %}alert-danger{% elif ultimo_prediccion == 'No Presenta Sintomas de Cancer' %}alert-success{% else %}alert-primary{% endif %} text-center" role="alert">
                      {% if ultimo_prediccion == 'Presenta Sintomas de Cancer' %}
                          <h4 class="alert-heading">Peligro! ⛔</h4>
                          <p>El paciente presenta síntomas de cáncer</p>
                          <hr>
                          <p class="mb-0">Debes Consultar a un Medico Urgente!</p>
                      {% elif ultimo_prediccion == 'No Presenta Sintomas de Cancer' %}
                          <h4 class="alert-heading">Genial ✅</h4>
                         
                          <p>El paciente No presenta Síntomas de Cáncer</p>
                          <hr>
                          <p class="mb-0">De igual forma debes prevenir</p>
                      {% else %}
                          El paciente {{ultimo_prediccion}}
                      {% endif %}
                  </div><br>
                  {% if ultimo_prediccion == 'Presenta Sintomas de Cancer' %}
                  <div class="card text-center">
                    <div class="card-header  alert alert-success">
                      <b>Tratamiento para El Cancer Bucal</b>
                    </div>
                    <!------->
                    <div class="row g-0">

                      <div class="col-md-4 ">
                        <img src="{{ url_for('static', filename='IMG/tratamiento.jpg') }}" class="img-fluid rounded-start" width="380px" height="400px">
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">    
          <p class="text-start"> <b>Busca atención médica especializada:</b> Consulta a un médico para obtener diagnóstico y plan de tratamiento. <br>
            <b>Sigue el tratamiento indicado:</b> Cumple con cirugía, radioterapia o quimioterapia según lo recetado.<br>
            <b>Adopta una dieta nutritiva: </b> Consume frutas, verduras y proteínas para fortalecer tu sistema inmunológico. <br>
            <b>Mantén higiene oral: </b> Cepíllate y usa hilo dental para prevenir infecciones. <br>
           <b>Evita tabaco y alcohol:</b> Reduce su consumo, son factores de riesgo. <br>
           <b>Seguimiento médico:</b> Mantén citas para monitorear recuperación y detección temprana. <br>
          </p>
                          </div>
                      </div>
                    </div>
                    <!--------->
                    <div class="card-footer text-muted">
                      05 de agosto del 2023
                    </div>
                  </div> <br>
                  {% elif ultimo_prediccion == 'No Presenta Sintomas de Cancer' %}
                      <div class="card text-center">
                        <div class="card-header  alert alert-success">
                          <b>Recomendacion Contra El Cancer Bucal</b>
                        </div>
                        <!------->
                        <div class="row g-0">

                          <div class="col-md-4 ">
                            <img src="{{ url_for('static', filename='IMG/prevencion.jpg') }}" class="img-fluid rounded-start" width="380px" height="400px">
                          </div>
                          <div class="col-md-8">
                            <div class="card-body">    
              <p class="text-start"> <b>Buena higiene oral:</b> Cepillado y hilo dental diario para prevenir problemas. <br>
                <b>Revisiones dentales:</b> Consultas regulares para detectar señales tempranas. <br>
                <b>Limita tabaco y alcohol:</b> Reducción del consumo para evitar riesgos. <br>
                <b>Protección solar:</b> Usa protector labial y evita exposición excesiva al sol. <br>
               <b>Dieta equilibrada:</b> Consume frutas, verduras y fibra, evita alimentos procesados. <br>
               <b>Autoexámenes orales:</b> Realiza chequeos regulares para detectar cambios. <br>
              <b>Educación y conciencia:</b> Aprende sobre síntomas y factores de riesgo para actuar rápido. <br>
              </p>
                              </div>
                          </div>
                        </div>
                        <!--------->
                        <div class="card-footer text-muted">
                          05 de agosto del 2023
                        </div>
                      </div>
                      <br>
                  {% endif %}
              {% endif %}
            
                  <!--------------->
                  <div class="text-center">
                    <a href="{{ url_for('generar_pdf') }}">
                    <button class="btn btn-success" type="button">Imprimir Resultado</button>
                </a>
                  </div> <br>
                  <!--------TABLA FIN-->
            </form>
          </div>
    </div>

    {% if pred %}
      <script>
        let timerInterval
  Swal.fire({
    title: 'Analizando Foto...',
    html: 'Espere un Momento Analizando la Foto <b></b> .',
    timer: 6000,
    timerProgressBar: true,
    didOpen: () => {
      Swal.showLoading()
      const b = Swal.getHtmlContainer().querySelector('b')
      timerInterval = setInterval(() => {
        b.textContent = Swal.getTimerLeft()
      }, 200)
    },
    willClose: () => {
      clearInterval(timerInterval)
    }
  }).then((pred) => {
    Swal.fire(
    'Analisis Completo',
    '{{ pred }} ',
    'success'
  )
  })
      </script>
      </b>
 {% endif %}
 <!----PASADISO-->
 <script>
    function validarFormulario() {
        var nombreInput = document.getElementById("nombre");
        var correoInput = document.getElementById("correo");
        var imagenInput = document.getElementById("formFileLg");
    
        if (nombreInput.value.trim() === "" || correoInput.value.trim() === "") {
            Swal.fire('Ingresa datos en los campos vacios')
            return false; // No enviar el formulario si algún campo de texto está vacío
        }
    
        if (imagenInput.value === "") {
            Swal.fire(
                'No seleccionaste una foto',
                'Por favor selecciona una foto',
                'question'
                );
            return false; // No enviar el formulario si el campo de imagen está vacío
        }
    
        return true; // Enviar el formulario si todos los campos están llenos
    }
    </script>
    
    <script>
      const menuBtn = document.querySelector(".menu-icon span");
      const searchBtn = document.querySelector(".search-icon");
      const cancelBtn = document.querySelector(".cancel-icon");
      const items = document.querySelector(".nav-items");
      const form = document.querySelector("form");
      menuBtn.onclick = ()=>{
        items.classList.add("active");
        menuBtn.classList.add("hide");
        searchBtn.classList.add("hide");
        cancelBtn.classList.add("show");
      }
      cancelBtn.onclick = ()=>{
        items.classList.remove("active");
        menuBtn.classList.remove("hide");
        searchBtn.classList.remove("hide");
        cancelBtn.classList.remove("show");
        form.classList.remove("active");
        cancelBtn.style.color = "#ff3d00";
      }
      searchBtn.onclick = ()=>{
        form.classList.add("active");
        searchBtn.classList.add("hide");
        cancelBtn.classList.add("show");
      }
   </script>
    
</body>
</html>
